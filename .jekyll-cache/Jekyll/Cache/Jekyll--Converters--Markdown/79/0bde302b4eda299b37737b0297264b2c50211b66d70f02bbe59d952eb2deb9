I"˛!<p><img src="https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&amp;logo=ubuntu&amp;logoColor=white" alt="Ubuntu" />git</p>

<p><strong>Actualizar el √≠ndice de paquetes apt con el siguiente comando:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
</code></pre></div></div>

<p><strong>Instalar el paquete de MySQL con el comando:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>mysql-server
</code></pre></div></div>
<p><img src="/img/posts/install_in_ubuntu/01.png" alt="step1" /></p>

<p><strong>Concluida la instalaci√≥n, el demonio de MySQL se iniciar√° autom√°ticamente. Para verificarlo usamos el comando:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl status mysql
</code></pre></div></div>
<p><img src="/img/posts/install_in_ubuntu/02.png" alt="step2" /></p>

<p><strong>Ver en que puerto est√° abierto</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> /etc/services | <span class="nb">grep </span>mysql
</code></pre></div></div>
<p>En Debian y derivados, el paquete mysql-server incluye el script llamado <strong>mysql_secure_installation</strong>, el cual permite mejorar la seguridad de la instalaci√≥n por defecto. Es recomendable correr este script en todas las instalaciones de servidores MySQL para sistemas en producci√≥n. En resumen nos permite:</p>

<ul>
  <li>Cambiar la contrase√±a del usuario ‚Äú<strong>root</strong>‚Äù.</li>
  <li>Deshabilitar el acceso remoto para el usuario ‚Äú<strong>root</strong>‚Äù.</li>
  <li>Eliminar cuentas de usuario an√≥nimas que pueden ingresar sin necesidad de una contrase√±a.</li>
  <li>Eliminar la base de datos ‚Äú<strong>test</strong>‚Äù (si existe), y todo privilegio que permita a cualquier usuario el acceso a bases de datos cuyos nombres comienzan con ‚Äú<strong>test_</strong>‚Äù.</li>
</ul>

<p><strong>Utilizar el script para una configuraci√≥n segura:</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>mysql_secure_installation
</code></pre></div></div>
<p>La primera pregunta nos solicitar√° si queremos validar password para conectarnos al servidor sea seguro, si lo deseamos al momento de crear un nuevo usuario en el sistema MySQL nos validar√° si el password cumple con las condiciones m√≠nimas de seguridad. Si no queremos esto solamente ingresamos <strong><code class="language-plaintext highlighter-rouge">N</code></strong></p>

<p><img src="/img/posts/install_in_ubuntu/03.png" alt="step3" /></p>

<p>Luego de acuerdo a la opci√≥n que ingresemos nos solicitar√° ingresar el password para el usuario root (Ojo: esto no tendr√° efecto hasta que cambiemos el m√©todo de autenticaci√≥n al usuario root de <strong>auth_socket</strong> a  otro complemento). Una vez ingresamos nuestro password, nos preguntar√° si deseamos remover a los usuarios √°nonimos que se crean por defecto junto a la instalaci√≥n de MySQL, lo mejor es removerlos.</p>

<p><img src="/img/posts/install_in_ubuntu/04.png" alt="step4" /></p>

<p>Normalmente, a root solo se le debe permitir conectarse desde ‚Äòlocalhost‚Äô. Para as√≠ asegurar que no puedan adivinar la password de root desde la red. As√≠ que deshabilitamos el log√≠n remoto.</p>

<p><img src="/img/posts/install_in_ubuntu/05.png" alt="step5" /></p>

<p>Luego nos pregunt√° si queremos eliminar la base de datos de prueba, esto es opcional.</p>

<p><img src="/img/posts/install_in_ubuntu/06.png" alt="step6" /></p>

<p>Luego nos pregunta si queremos recargar la tabla de privilegios. Pondremos si (Y).</p>

<p><img src="/img/posts/install_in_ubuntu/07.png" alt="step7" /></p>

<h3 id="ajustes-de-autenticaci√≥n-y-privilegios-de-usuario">Ajustes de autenticaci√≥n y privilegios de usuario</h3>

<p>En los sistemas Ubuntu con MySQL 5.7 (y versiones posteriores), el usuario <strong>root</strong> de MySQL se configura para la autenticaci√≥n usando el complemento <strong>auth_socket</strong> de manera predeterminada en lugar de una contrase√±a. Esto en muchos casos proporciona mayor seguridad y utilidad, pero tambi√©n puede generar complicaciones cuando deba permitir que un programa externo (como phpMyAdmin) acceda al usuario.</p>

<p>Para usar un password para conectar a MySQL como <strong>root</strong>, deberemos cambiar el m√©todo de autenticaci√≥n de <strong>auth_socket</strong> a otro complemento como <strong>caching_sha2_password</strong> o <strong>mysql_native_password</strong>. Para hacer esto, abrimos la terminal y nos conectamos con privilegio sudo:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>mysql
</code></pre></div></div>

<p>Para ver el m√©todo de autenticaci√≥n utilizado por las cuentas de usuarios de MySQL ejecutamos la siguiente sentencia dentro de la consola de MySQL:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT user, authentication_string, plugin, host 
FROM mysql.user<span class="p">;</span>
</code></pre></div></div>

<p><img src="/img/posts/install_in_ubuntu/08.png" alt="step 8" /></p>

<p>Para cambiar el m√©todo de autenticaci√≥n de <strong>root</strong> con una password, utilizaremos el comando <strong>ALTER USER</strong> para cambiar el complemento de autenticaci√≥n. Lo podriamos de la siguiente manera:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> 
<span class="n">IDENTIFIED</span> <span class="k">WITH</span> <span class="n">caching_sha2_password</span> <span class="k">BY</span> <span class="s1">'password'</span><span class="p">;</span>
</code></pre></div></div>

<p>O realizar el cambio en dos pasos:</p>

<p>Cambiamos el complemento</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">'root'</span><span class="o">@</span><span class="s1">'localhost'</span> 
<span class="n">IDENTIFIED</span> <span class="k">WITH</span> <span class="n">mysql_native_password</span><span class="p">;</span>
</code></pre></div></div>

<p>Cambiamos el password. (La funci√≥n <strong><code class="language-plaintext highlighter-rouge">user()</code></strong> devuelve al usuario en sessi√≥n)</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">ALTER</span> <span class="k">USER</span> <span class="k">user</span><span class="p">()</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'Strong_Password;
</span></code></pre></div></div>

<p>Y por √∫ltimo recargamos la tabla de permisos:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
</code></pre></div></div>

<p>Otra cosa que te recomiendo es crear un nuevo usuario administrativo con todos los privilegios y acceso a todas las bases de datos:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="o">*</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'admin_user'</span><span class="o">@</span><span class="s1">'localhost'</span>
<span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'very_strong_password'</span><span class="p">;</span>
</code></pre></div></div>

<p>Para desinstalar MySQL con:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get remove <span class="nt">--purge</span> mysql-server mysql-client mysql-common
</code></pre></div></div>

<hr />

<p>Si quieres apoyarme te agradecer√≠a un simple caf√© üçµ</p>

<p><a href="https://www.buymeacoffee.com/9111592"><img src="https://img.shields.io/badge/Buy%20Me%20a%20Coffee-ffdd00?style=for-the-badge&amp;logo=buy-me-a-coffee&amp;logoColor=black" alt="BuyMeACoffee" /></a></p>

:ET