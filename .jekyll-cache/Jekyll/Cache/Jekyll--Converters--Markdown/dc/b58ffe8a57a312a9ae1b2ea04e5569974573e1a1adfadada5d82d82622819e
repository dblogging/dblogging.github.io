I"Å<p><img src="https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&amp;logo=postgresql&amp;logoColor=white" alt="Postgre" /></p>

<h2 id="instalaci√≥n-manual-desde-el-zip">INSTALACI√ìN MANUAL DESDE EL ZIP</h2>

<hr />

<h3 id="download">üìÅ Descarga de los archivos</h3>

<p>Descargamos el archivo zip <a href="https://www.enterprisedb.com/download-postgresql-binaries" target="_blank">aqu√≠</a></p>

<p>Extraemos el contenido del archivo zip  (en este caso descomprimir√© en la siguiente ubicaci√≥n <strong>C:\pgsql_14</strong>)</p>

<p><img src="/img/posts/postgre-install/extract_zip_01.png" alt="image" height="300px" /></p>

<hr />

<h3 id="create-folder">üìÅ crear una carpeta data</h3>

<p>Crear una carpeta donde se almacenar√°n las bases de datos, configuraciones y usuarios de nuestro servidor (en mi caso lo voy a descomprimir en la siguiente ubicaci√≥n ‚Äú<strong>C:\pgsql_data</strong>)</p>

<p><img src="/img/posts/postgre-install/extract_zip_02.png" alt="image" height="300px" /></p>

<h3 id="settings">üìÅ Configurar inicial</h3>
<p>Configurar el usuario, la contrase√±a, encriptaci√≥n, la codificaci√≥n para la base de datos
Nos cambiamos al directorio bin (en mi caso es ‚Äú<strong>C:\pgsql_14\bin</strong>‚Äù). Y ejecutamos el siguiente comando:</p>

<pre><code class="language-cmd">initdb.exe -D C:\pgsql_data -U postgres -W -E UTF8 -A scram-sha-256
</code></pre>
<ul>
  <li><strong>-D</strong>: especifique el directorio de almacenamiento del cl√∫ster de bases de datos en mi caso <strong>(C:\pgsql_data)</strong>.</li>
  <li><strong>-U postgres</strong>: crea al superusuario como <strong>postgres</strong>.</li>
  <li><strong>-W</strong>: solicita la contrase√±a del superusuario.</li>
  <li><strong>-E UTF8</strong>: crea la base de datos con codificaci√≥n UTF-8</li>
  <li><strong>-A scram-sha-256</strong>: habilita la autenticaci√≥n de contrase√±a.</li>
</ul>

<p><img src="/img/posts/postgre-install/init_db.png" alt="postgres_init" /></p>

<hr />

<p><strong>üî∏ Paso 5:</strong></p>

<p><strong>Iniciar y detener el servidor PostgreSQL</strong></p>

<p>Para ver el estado del servidor y ver si es encuentra en ejecuci√≥n o no:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pg_ctl.exe <span class="nt">-D</span> C:<span class="se">\p</span>gsql_data <span class="nt">-l</span> logfile status
<span class="c"># Otra opci√≥n es la herramienta pg_isready</span>
pg_isready.exe
</code></pre></div></div>

<p>Para iniciar el servidor ejecute el comando:</p>
<pre><code class="language-cmd">pg_ctl.exe -D C:\pgsql_data -l logfile start
</code></pre>

<p>Para detener el servidor:</p>
<pre><code class="language-cmd">pg_ctl.exe -D C:\pgsql_data stop
</code></pre>

<p>Para reiniciar el servidor:</p>
<pre><code class="language-cmd">pg_ctl.exe -D C:\pgsql_data stop
</code></pre>
<blockquote>
  <p>Nota: cualquier acci√≥n con el servidor es obligatorio indicar el directorio de datos</p>
</blockquote>

<hr />

<h3 id="-registrar-como-servicio-de-windows">üöÄ Registrar como servicio de Windows</h3>

<p><strong>Abrimos una sesi√≥n como administrador</strong> y ejecutamos el comando:</p>

<pre><code class="language-cmd">pg_ctl.exe register -D C:\pgsql_data -N "postgres14"
</code></pre>

<p><img src="/img/posts/postgre-install/register_as_service_01.png" alt="install service" /></p>

<p>Para ejecutar despu√©s el programa cliente <strong>psql</strong> desde cualquier ubicaci√≥n establecemos esa variable entorno puede ser con CMD normal o como administrador:</p>

<pre><code class="language-cmd">setx PATH "%path%;"C:\pgsql_14\bin\
</code></pre>
<p><img src="/img/posts/postgre-install/set_environ_variable.png" alt="set_environ" /></p>

<p>Para <strong>eliminar el servicio</strong> abrimos una <strong>sesi√≥n CMD como administrador</strong> y ejecutamos el comando:</p>

<pre><code class="language-cmd">sc delete postgres14
</code></pre>
<hr />

<h3 id="iniciar-sesi√≥n-en-el-servidor-postgresql">Iniciar sesi√≥n en el servidor PostgreSQL</h3>

<p>Usando el programa cliente <strong>psql.exe</strong> para conectarnos a nuestro servidor. Lo siguiente es llamar al programa e iniciar sesi√≥n indicando el usuario y luego nos pedir√° el password.</p>
<pre><code class="language-cmd">psql -U postgres
</code></pre>

<p>Cuando se le solicite la contrase√±a, ingrese la contrase√±a que configur√≥ en la instalaci√≥n <a href="#">ver</a>.<br />
El prompt nos indica que estamos conetado con √©xito y listo para realizar sentencias SQL.</p>

<p><img src="/img/posts/postgre-install/connection_01.png" alt="connection" /></p>

<hr />

<h2 id="operaciones-b√°sicas-en-postgresql">Operaciones b√°sicas en PostgreSQL</h2>

<p>para listar los usuarios, use el comando <strong><em>\du</em></strong><br />
para enumerar todas las bases de datos, use el comando <strong><em>\list</em></strong> o <strong><em>\l</em></strong><br />
para salir solo escribimos <strong><em>exit</em></strong> o <strong><em>\q</em></strong>
<img src="/img/posts/postgre-install/create_and_exit.png" alt="postgres_query" />
para cambiar a una nueva base de datos, use el comando <strong><code class="language-plaintext highlighter-rouge">\connect &lt;database&gt;</code></strong> o <strong><code class="language-plaintext highlighter-rouge">\c &lt;database name&gt;</code></strong> <br />
para mostrar tablas de una base de datos, use el comando <strong><code class="language-plaintext highlighter-rouge">\dt</code></strong> o <strong><code class="language-plaintext highlighter-rouge">\dt+</code></strong>
<img src="/img/posts/postgre-install/create_and_list_table.png" alt="postgres_query2" /><br />
para realizar una copia de seguridad o un volcado de la base de datos, use la herramienta pg_dump:</p>
<pre><code class="language-cmd">pg_dump.exe -U postgres -d &lt;database name&gt; -f &lt;path&gt;\backup.sql
</code></pre>
<p><img src="/img/posts/postgre-install/pg_dump_bkp.png" alt="postgres_bkp" />
<img src="/img/posts/postgre-install/pg_dump_bkp2.png" alt="postgres_bkp" /><br />
para importar un archivo <code class="language-plaintext highlighter-rouge">.pgsql</code> o <code class="language-plaintext highlighter-rouge">.sql</code> existente al servidor de la base de datos, use el siguiente comando:</p>
<pre><code class="language-cmd">psql.exe -h &lt;hostname&gt; -U postgres &lt; &lt;path&gt;\backup.sql
</code></pre>
<p><img src="/img/posts/postgre-install/pgsql_import_script.png" alt="postgres_import" /></p>

<hr />

<p>Si quieres apoyarme te agradecer√≠a un simple caf√© üçµ</p>

<p><a href="https://www.buymeacoffee.com/9111592"><img src="https://img.shields.io/badge/Buy%20Me%20a%20Coffee-ffdd00?style=for-the-badge&amp;logo=buy-me-a-coffee&amp;logoColor=black" alt="BuyMeACoffee" /></a></p>
:ET